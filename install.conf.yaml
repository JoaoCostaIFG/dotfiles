- defaults:
    link:
      create: true
      relink: true

- clean:
    ~/:
    ~/.config:
      recursive: true

- link:
    ~/.gnupg/gpg.conf: homedir/dot_gnupg/gpg.conf
    ~/.gnupg/gpg-agent.conf: homedir/dot_gnupg/gpg-agent.conf
    ~/.gnupg/scdaemon.conf: homedir/dot_gnupg/scdaemon.conf
    ~/.bash_profile: homedir/dot_bash_profile
    ~/.bashrc: homedir/dot_bashrc
    ~/.face: homedir/dot_face
    ~/.profile: homedir/dot_profile
    ~/.Xdefaults: homedir/dot_Xdefaults
    ~/.XCompose: homedir/dot_XCompose
    ~/.icons: homedir/dot_icons
    ~/.local/bin: scripts
    ~/.local/share/nwg-look: dot_local/share/nwg-look
    ~/.local/share/wallpaper: dot_local/share/wallpaper
    ~/.local/share/applications/:
      glob: true
      path: dot_local/share/applications/*
    ~/.local/share/applications/mimeapps.list: dot_config/mimeapps.list
    ~/.config/:
      glob: true
      path: dot_config/*
      exclude: [dot_config/maxima, dot_config/gtk-2.0, dot_config/sunshine]
    ~/.config/gtk-2.0/gtkrc-2.0:
      path: dot_config/gtk-2.0/gtkrc-2.0
    ~/.config/sunshine/apps.json:
      path: dot_config/sunshine/apps.json
    ~/.config/user-dirs.dirs:
      path: dot_config/user-dirs.dirs
    ~/.config/mimeapps.list:
      force: true
      path: dot_config/mimeapps.list
    ~/.config/maxima/:
      glob: true
      path: dot_config/maxima/*

- if:
    cond: hostname | grep -q 'ifg'
    met:
      - link:
          ~/.config/hypr/override.d/:
            glob: true
            path: ifg/hypr/override.d/*

- if:
    cond: hostname | grep -q 'ifgdt'
    met:
      - link:
          ~/.config/hypr/override.d/:
            glob: true
            path: ifgdt/hypr/override.d/*

- if:
    cond: hostname | grep -q 'ifglt'
    met:
      - link:
          ~/.config/hypr/override.d/:
            glob: true
            path: ifglt/hypr/override.d/*

- shell:
    - [
        update-desktop-database ~/.local/share/applications/,
        Updating desktop entries database,
      ]
    - [./gen_scripts_readme.sh, Generating scripts Readme]
    - [
        pacman -Qenq | LC_COLLATE=C sort >pacman_native,
        Saving native package list,
      ]
    - [
        pacman -Qemq | LC_COLLATE=C sort >pacman_foreign,
        Saving foreign package list,
      ]
